<div id="app">
  <div class="wrapper row3">
    <main class="hoc container clear btmpad-none">
      <div class="content">
        <% if flash[:error]  %>
          <div class="alert alert-warning"> <%= flash[:error] %></div> 
        <% end %>
        <% if flash[:notice]  %>
          <div class="alert alert-success"> <%= flash[:notice] %></div> 
        <% end %>

        <h2 class="receivername">物品明细</h2>
        <div id="comments" class="scrollable">
          <table v-if="packageItems.length > 0">
            <thead>
              <tr>
                <th>名称</th>
                <th>数量</th>
                <th>产地</th>
                <th>修改</th>
              </tr>
            </thead>
            <tbody>
              <tr v-for="item in packageItems">
                <td>{{item.name}}</td>
                <td>{{item.quantity}}</td>
                <td>{{item.price}}</td>
                <td><a class="btn smlbtn inverse" v-on:click="removePackageItem(item)">删除</a></td>
              </tr>
            </tbody>
          </table>
          <%= form_tag do %>
              <div class="one_quarter first">
                <%= text_field_tag(:name, '', :required => true, :placeholder =>'名称', 'v-model': 'packageItem.name') %>
              </div>
              <div class="one_quarter">
                <%= number_field_tag(:name, '', :required => true, :min => 0, :step => 1, :placeholder=> '数量', 'v-model': 'packageItem.quantity') %>
              </div>
              <div class="one_quarter">
                <%= number_field_tag(:price, '', :min => 0, :placeholder => "单价", 'v-model': 'packageItem.price') %>
              </div>
              <div class="one_quarter">
                <a class="btn smlbt" v-on:click="addPackageItem()">确定</a>
              </div>
          <% end %>
        </div>
      </div>
    </main>
  </div>
  <div class="wrapper row3">
    <main class="hoc container clear btmpad-none">
      <div class="content">
        <h2 class="receivername">选择收件人地址</h2>
        <div id="comments"> 
          <p class="divider">收件人是否在列表中？如果是，请点击选此收件人。若否，请<%= link_to '新建收件人地址', new_address_path(:returnUrl => packages_path) %></p>
          <div class="one_third">
            <input type="text" placeholder="姓名，电话，身份证" v-model="query"> 
          </div>
          <div class="clear"></div> 
          <address-label v-for="address in addresses" v-bind:selected="selectedAddress === address" v-bind:address="address" v-on:delete="removeAddress(address)" v-on:selected="selectAddress(address)"></address-label>
        </div>
      </div>
    </main>
    <div class="chose btmspace-80">
      <a class="btn" href="" v-on:click="submitPackage()">确定</a>   
    </div>
  </div>
</div>
