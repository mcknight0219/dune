<div class="wrapper row3" id="carts_app">
  <main class="hoc container clear">
    <div class="wrapper">
      <div class="title-line clearfix" style="border-bottom: 1px solid #DDD">
        <div class="two_quarter first empty-label">&nbsp;</div>
        <div class="one_quarter" style="font-size: 13px; color: silver">价格</div>
        <div class="one_quarter" style="font-size: 13px; color: silver">数量</div>
      </div>

      <div v-for="item in cart">
           <div class="clearfix" style="padding: 14px 20px; border-bottom: 1px solid #DDD">
            <div class="two_quarter first">
              <div class="one_third first" style="margin:auto;">
                <div class="">
                  <img v-bind:src="item.image1" width="100" height="100">
                </div>
              </div>
              <div class="two_third">
                <ul style="list-style: none; margin-top:0px;">
                  <li style="font-size: 18px;"><strong>{{ item.product.name }}</strong></li>
                  <li style="font-size: 14px; color: gray">规格说明 100粒/瓶</li>
                  <li style="font-size: 14px;"><a style="cursor: pointer;padding-right: 4px;" v-on:click="removeFromCart(item.product.id)">删除</a> | <a style="padding-left: 4px" v-bind:href="productUrl(item.product)">详情</a></li>
                </ul>
              </div>
            </div>
            <div class="one_quarter">
              <div style="color: red; font-weight: 400;">
                CDN$ {{ item.product.price * item.quantity }}
              </div>
            </div>
            <div class="one_quarter">
              <input type="number" min="1" v-bind:value="item.quantity" v-on:change="updateQuantity(item.product.id, $event)">
            </div>
          </div>
      </div>
    </div>
    <div class="wrapper row3">
      <main class="hoc container clear btmpad-none">
        <div class="content">
          <h2 class="receivername title-divider"><span>选择寄送地址</span></h2>
          <p>请选择中国的地址，我们暂不提供本地配送</p>
          <div id="comments">
            <p class="divider">收件人是否在列表中？如果是，请点击选此收件人。若否，请 <%= link_to '新建收件人地址', new_address_path(:returnUrl => packages_path) %></p>
            <div class="one_third first" v-if="addresses.length > 6 || inSearch">
              <input type="text" placeholder="姓名，电话，身份证" v-model="query">
            </div>
            <div class="clear"></div>
            <address-label v-for="(address, index) in addresses" v-bind:pos="index" v-bind:selected="selectedAddress === address" v-bind:address="address" v-on:delete="removeAddress(address)" v-on:selected="selectAddress(address)"></address-label>
          </div>
        </div>
      </main>
    </div>
    <!-- / main body -->
    <div class="clear"></div>
    <div style="margin-top: 20px;">
      <%= form_tag '/cart', html: {} do  %>
          <div class="block">
            <%= hidden_field_tag :address_id, nil, "v-model": "selectedAddress.id" %>
            <%= submit_tag '确认订单', "v-bind:disabled": "disableSubmit", "class": 'btn' %>
          </div>
      <% end %>
    </div>
  </main>
</div>
